{"ast":null,"code":"import _toConsumableArray from \"/Users/sruji/Explorer/Code/food-delivery-website/food-delivery-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/sruji/Explorer/Code/food-delivery-website/food-delivery-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sruji/Explorer/Code/food-delivery-website/food-delivery-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sruji/Explorer/Code/food-delivery-website/food-delivery-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sruji/Explorer/Code/food-delivery-website/food-delivery-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sruji/Explorer/Code/food-delivery-website/food-delivery-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sruji/Explorer/Code/food-delivery-website/food-delivery-app/src/App.js\";\nimport React, { Component } from 'react';\nimport SignIn from './components/SignIn/SignIn';\nimport Navigation from './components/Navigation/Navigation';\nimport Logo from './components/Logo/Logo';\nimport Register from './components/Register/Register';\nimport SearchBox from './components/SearchBox/SearchBox';\nimport CardList from './components/CardList/CardList';\nimport Cart from './components/Cart/Cart';\nimport dishes from './menu';\nimport './App.css';\nimport 'tachyons';\nvar initialState = {\n  route: 'signin',\n  isSignedIn: false,\n  cart: [],\n  foodItems: [],\n  user: {\n    id: '',\n    name: '',\n    email: '',\n    orders: 0,\n    joined: ''\n  },\n  searchfield: ''\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.onRouteChange = function (route) {\n      if (route === 'signout') {\n        _this.setState(initialState);\n\n        _this.componentDidMount();\n      } else if (route === 'home') {\n        _this.setState({\n          isSignedIn: true\n        });\n      } else if (route === 'orders') {\n        _this.setState({\n          isSignedIn: true\n        });\n      }\n\n      _this.setState({\n        route: route\n      });\n    };\n\n    _this.onSearchChange = function (event) {\n      _this.setState({\n        searchfield: event.target.value\n      });\n    };\n\n    _this.onAdding = function (order) {\n      console.log(order);\n\n      _this.setState({\n        cart: _toConsumableArray(_this.state.cart).concat([order])\n      });\n    };\n\n    _this.onOrder = function () {\n      _this.setState({\n        cart: []\n      });\n    };\n\n    _this.loadUser = function (data) {\n      _this.setState({\n        user: {\n          id: data.id,\n          name: data.name,\n          email: data.email,\n          entries: data.entries,\n          joined: data.joined\n        }\n      });\n    };\n\n    _this.state = initialState;\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:3000/menu').then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        _this2.setState({\n          foodItems: dishes\n        });\n      }).catch(function (err) {\n        return console.log('Error getting menu');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          searchfield = _this$state.searchfield,\n          foodItems = _this$state.foodItems;\n      var filteredItems = foodItems.filter(function (dish) {\n        return dish.name.toLowerCase().includes(searchfield.toLowerCase());\n      });\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Navigation, {\n        isSignedIn: this.state.isSignedIn,\n        onRouteChange: this.onRouteChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), this.state.route === 'home' ? React.createElement(\"div\", {\n        id: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(SearchBox, {\n        searchChange: this.onSearchChange,\n        name: this.state.user.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(Logo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(CardList, {\n        foodItems: filteredItems,\n        onRouteChange: this.onRouteChange,\n        onAdding: this.onAdding,\n        cart: this.state.cart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })) : this.state.route === 'register' ? React.createElement(\"div\", {\n        className: \"pa5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Register, {\n        loadUser: this.loadUser,\n        onRouteChange: this.onRouteChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })) : this.state.route === 'orders' ? React.createElement(\"div\", {\n        className: \"basket\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Cart, {\n        cart: this.state.cart,\n        onOrder: this.onOrder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        className: \"pa5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(SignIn, {\n        loadUser: this.loadUser,\n        onRouteChange: this.onRouteChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/sruji/Explorer/Code/food-delivery-website/food-delivery-app/src/App.js"],"names":["React","Component","SignIn","Navigation","Logo","Register","SearchBox","CardList","Cart","dishes","initialState","route","isSignedIn","cart","foodItems","user","id","name","email","orders","joined","searchfield","App","onRouteChange","setState","componentDidMount","onSearchChange","event","target","value","onAdding","order","console","log","state","onOrder","loadUser","data","entries","fetch","then","response","json","catch","err","filteredItems","filter","dish","toLowerCase","includes"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport SignIn from './components/SignIn/SignIn';\nimport Navigation from './components/Navigation/Navigation';\nimport Logo from './components/Logo/Logo';\nimport Register from './components/Register/Register';\nimport SearchBox from './components/SearchBox/SearchBox';\nimport CardList from './components/CardList/CardList';\nimport Cart from './components/Cart/Cart';\nimport dishes from './menu';\nimport './App.css';\nimport 'tachyons';\n\nconst initialState = {\n\troute: 'signin',\n\tisSignedIn: false,\n\tcart: [],\n\tfoodItems: [],\n\tuser: {\n\t    id: '',\n\t    name: '',\n\t    email: '',\n\t    orders: 0,\n\t    joined: ''\n\t},\n\tsearchfield: ''\n}\n\nclass App extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = initialState\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch('http://localhost:3000/menu')\n\t\t\t.then(response => response.json())\n\t\t\t.then(response => {\n\t\t\t\tthis.setState({ foodItems: dishes })\n\t\t\t})\n\t\t.catch(err => console.log('Error getting menu'));\n\t};\n\n\tonRouteChange = (route) => {\n\t\tif(route === 'signout') {\n\t      this.setState(initialState)\n\t      this.componentDidMount();\n\t    } else if (route === 'home') {\n\t      this.setState({isSignedIn:true})\n\t    } else if (route === 'orders') {\n\t    \tthis.setState({isSignedIn:true})\n\t    }\n\t    this.setState({route:route});\n\t}\n\n\tonSearchChange = (event) => {\n\t\tthis.setState({searchfield: event.target.value});\t\n\t};\n\n\tonAdding = (order) => {\n\t\tconsole.log(order);\n\t\tthis.setState({\n\t\t\tcart: [...this.state.cart, order]\n\t\t})\n\t}\n\n\tonOrder = () => {\n\t\tthis.setState({\n\t\t\tcart:[]\n\t\t})\n\t}\n\n\tloadUser = (data) => {\n\t    this.setState({user: {\n\t      id: data.id,\n\t      name: data.name,\n\t      email: data.email,\n\t      entries: data.entries,\n\t      joined: data.joined\n\t    }})\n\t  }\n\n\trender() {\n\t\tconst { searchfield, foodItems } = this.state;\n\t\tconst filteredItems = foodItems.filter(dish => {\n\t\t\treturn dish.name.toLowerCase().includes(searchfield.toLowerCase());\n\t\t})\n\t\treturn (\n\t\t  <div className=\"App\">\n\t\t  \t<Navigation isSignedIn={this.state.isSignedIn} onRouteChange={this.onRouteChange}/>\n\t\t  \t{ ( this.state.route === 'home' ) ?\n\t\t  \t\t<div id='search'>\n\t\t  \t\t\t<SearchBox searchChange={this.onSearchChange} name={this.state.user.name} /> \n\t\t  \t\t\t<Logo />\n\t\t  \t\t\t<CardList foodItems={filteredItems} onRouteChange={this.onRouteChange} onAdding={this.onAdding} cart={this.state.cart} />\n\t\t  \t\t</div> :\n\t\t  \t\t(this.state.route === 'register') ?\n\t\t  \t\t<div className=\"pa5\">\n\t\t    \t<Register loadUser={this.loadUser} onRouteChange={this.onRouteChange} /> \n\t\t    \t</div>:\n\t\t    \t(this.state.route === 'orders')? \n\t\t    \t<div className='basket'>\n\t\t    \t<Cart cart={this.state.cart} onOrder={this.onOrder} /> \n\t\t    \t</div>:\n\t\t    \t<div className=\"pa5\">\n\t\t    \t<SignIn loadUser={this.loadUser} onRouteChange={this.onRouteChange} />\n\t\t    \t</div>\n\t\t\t}\n\t\t  </div>\n\t\t);\n\t}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}